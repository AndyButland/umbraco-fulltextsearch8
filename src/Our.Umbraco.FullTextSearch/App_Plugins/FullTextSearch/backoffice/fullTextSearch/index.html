<div ng-controller="Our.Umbraco.FullTextSearch.Dashboard.Controller as vm">

    <umb-editor-view footer="false">
        <umb-editor-header name="'Full Text Search'" name-locked="true" description="'v.1.0.0'" description-locked="true" hide-alias="true" hide-icon="true"></umb-editor-header>

        <umb-editor-container>

            <div class="umb-package-details">

                <div class="umb-package-details__main-content">

                    <umb-box>
                        <umb-box-header title="Index status">
                            <umb-button action="vm.indexStatus.load()"
                                        button-style="outline"
                                        label="Reload"
                                        type="button"></umb-button>
                        </umb-box-header>
                        <umb-box-content>

                            <umb-load-indicator ng-if="vm.indexStatus.loading"></umb-load-indicator>

                            <div class="umb-node-preview" style="max-width:none;">
                                <div class="flex w-100">
                                    <i class="umb-node-preview__icon" aria-hidden="true">
                                        <svg xmlns="http://www.w3.org/2000/svg" style="width:1em;fill:currentColor;" title="Indexable nodes" viewBox="0 0 100 100">
                                            <path d="M5273.1 2400.1v-2c0-2.8-5-4-9.7-4s-9.7 1.3-9.7 4v2c0 1.8.7 3.6 2 4.9l5 4.9c.3.3.4.6.4 1v6.4c0 .4.2.7.6.8l2.9.9c.5.1 1-.2 1-.8v-7.2c0-.4.2-.7.4-1l5.1-5c1.3-1.3 2-3.1 2-4.9zm-9.7-.1c-4.8 0-7.4-1.3-7.5-1.8.1-.5 2.7-1.8 7.5-1.8s7.3 1.3 7.5 1.8c-.2.5-2.7 1.8-7.5 1.8z" />
                                            <path d="M5268.4 2410.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1h-4.3zM5272.7 2413.7h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1zM5272.7 2417h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1 0-.5-.4-1-1-1z" />
                                            <path d="M89.8 2.5H10.2c-2.5 0-4.5 2-4.5 4.5v86c0 2.5 2 4.5 4.5 4.5h66.6c2.5 0 4.5-2 4.5-4.5V76.2h8.5c2.5 0 4.5-2 4.5-4.5V7c.1-2.5-2-4.5-4.5-4.5zM75.5 91.7H11.4V8.3h64.1v83.4zm13.1-21.3h-7.3V59.2h7.3v11.2zm0-16.9h-7.3V42.2h7.3v11.3zm0-17h-7.3V25.3h7.3v11.2zm0-17h-7.3V8.3h7.3v11.2z" />
                                            <path d="M49 37.9c-1.3 0-2.3 1-2.4 2.2 0 1.3 1 2.3 2.2 2.4 1.6 0 2.9 1.4 2.9 3.1 0 1.3 1 2.3 2.2 2.4h.1c1.2 0 2.3-1 2.3-2.2.2-4.3-3.1-7.8-7.3-7.9z" />
                                            <path d="M48.7 27.3c-10.1 0-18.2 8.1-18.2 18.2 0 3.8 1.2 7.3 3.1 10.2l-12.7 12c-1.2 1.1-1.2 2.9-.1 4.1.6.6 1.3.9 2.1.9.7 0 1.4-.3 2-.8l12.8-12c3.1 2.4 6.9 3.8 11 3.8 10.1 0 18.2-8.1 18.2-18.2s-8.1-18.2-18.2-18.2zm0 30.6c-6.9 0-12.4-5.6-12.4-12.4s5.6-12.4 12.4-12.4 12.4 5.6 12.4 12.4-5.5 12.4-12.4 12.4z" />
                                        </svg>
                                    </i>
                                    <div class="umb-node-preview__content">
                                        <div class="umb-node-preview__name">
                                            Total Indexable Nodes
                                        </div>
                                        <div class="umb-node-preview__description">The total number of indexable nodes, according to the current Full Text Search config</div>
                                    </div>
                                    <div style="margin-right:auto;">
                                        {{ vm.indexStatus.status.TotalIndexableNodes}}
                                    </div>
                                </div>
                            </div>

                            <div class="umb-node-preview" style="max-width:none;">
                                <div class="flex w-100">
                                    <i class="umb-node-preview__icon" aria-hidden="true">
                                        <svg xmlns="http://www.w3.org/2000/svg" style="width:1em;fill:currentColor;" title="Indexed nodes" viewBox="0 0 100 100">
                                            <path d="M5273.1 2400.1v-2c0-2.8-5-4-9.7-4s-9.7 1.3-9.7 4v2c0 1.8.7 3.6 2 4.9l5 4.9c.3.3.4.6.4 1v6.4c0 .4.2.7.6.8l2.9.9c.5.1 1-.2 1-.8v-7.2c0-.4.2-.7.4-1l5.1-5c1.3-1.3 2-3.1 2-4.9zm-9.7-.1c-4.8 0-7.4-1.3-7.5-1.8.1-.5 2.7-1.8 7.5-1.8s7.3 1.3 7.5 1.8c-.2.5-2.7 1.8-7.5 1.8z" />
                                            <path d="M5268.4 2410.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1h-4.3zM5272.7 2413.7h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1s-.4-1-1-1zM5272.7 2417h-4.3c-.6 0-1 .4-1 1s.4 1 1 1h4.3c.6 0 1-.4 1-1 0-.5-.4-1-1-1z" />
                                            <path d="M61.2 20.2H25.7c-1.6 0-2.9 1.3-2.9 2.9 0 1.6 1.3 2.9 2.9 2.9h35.6c1.6 0 2.9-1.3 2.9-2.9-.1-1.6-1.4-2.9-3-2.9zM61.2 38.1H25.7c-1.6 0-2.9 1.3-2.9 2.9 0 1.6 1.3 2.9 2.9 2.9h35.6c1.6 0 2.9-1.3 2.9-2.9-.1-1.6-1.4-2.9-3-2.9zM61.2 56.1H25.7c-1.6 0-2.9 1.3-2.9 2.9 0 1.6 1.3 2.9 2.9 2.9h35.6c1.6 0 2.9-1.3 2.9-2.9-.1-1.6-1.4-2.9-3-2.9zM61.2 74H25.7c-1.6 0-2.9 1.3-2.9 2.9 0 1.6 1.3 2.9 2.9 2.9h35.6c1.6 0 2.9-1.3 2.9-2.9-.1-1.6-1.4-2.9-3-2.9z" />
                                            <path d="M89.8 2.5H10.2c-2.5 0-4.5 2-4.5 4.5v86c0 2.5 2 4.5 4.5 4.5h66.6c2.5 0 4.5-2 4.5-4.5V76.2h8.5c2.5 0 4.5-2 4.5-4.5V7c.1-2.5-2-4.5-4.5-4.5zM75.5 91.7H11.4V8.3h64.1v83.4zm13.1-21.3h-7.3V59.2h7.3v11.2zm0-16.9h-7.3V42.2h7.3v11.3zm0-17h-7.3V25.3h7.3v11.2zm-7.3-17V8.3h7.3v11.2h-7.3z" />
                                        </svg>
                                    </i>
                                    <div class="umb-node-preview__content">
                                        <div class="umb-node-preview__name">
                                            Total Indexed Nodes
                                        </div>
                                        <div class="umb-node-preview__description">The total number of indexed nodes searchable by Full Text Search</div>
                                    </div>
                                    <div style="margin-right:auto;">
                                        {{ vm.indexStatus.status.TotalIndexedNodes}}
                                    </div>
                                </div>
                            </div>

                            <div class="umb-node-preview" style="max-width:none;">
                                <div class="flex w-100">
                                    <i class="umb-node-preview__icon" aria-hidden="true">
                                        <svg xmlns="http://www.w3.org/2000/svg" style="width:1em;fill:currentColor;" title="Missing nodes" viewBox="0 0 100 100">
                                            <path d="M17.813 6A2 2 0 0016 8v8a2 2 0 104 0v-6h2a2 2 0 100-4h-4a2 2 0 00-.188 0zm11 0A2.002 2.002 0 1029 10h8a2 2 0 100-4h-8a2 2 0 00-.188 0zm15 0A2.002 2.002 0 1044 10h8a2 2 0 100-4h-8a2 2 0 00-.188 0zm15 0A2.002 2.002 0 1059 10h8.188l3.406 3.406a2 2 0 102.812-2.844l-4-4A2 2 0 0068 6h-9a2 2 0 00-.188 0zm6.968 7.969A2 2 0 0064 16v8a2 2 0 002 2h8a2 2 0 100-4h-6v-6a2 2 0 00-2.219-2.031zm12 2a2 2 0 00-1.187 3.437L80 22.813V31a2 2 0 104 0v-9a2 2 0 00-.594-1.438l-4-4a2 2 0 00-1.625-.593zm-60 5A2 2 0 0016 23v8a2 2 0 104 0v-8a2 2 0 00-2.219-2.031zm0 15A2 2 0 0016 38v8a2 2 0 104 0v-8a2 2 0 00-2.219-2.031zm64 0A2 2 0 0080 38v8a2 2 0 104 0v-8a2 2 0 00-2.219-2.031zm-64 15A2 2 0 0016 53v8a2 2 0 104 0v-8a2 2 0 00-2.219-2.031zm64 0A2 2 0 0080 53v8a2 2 0 104 0v-8a2 2 0 00-2.219-2.031zm-64 15A2 2 0 0016 68v8a2 2 0 104 0v-8a2 2 0 00-2.219-2.031zm64 0A2 2 0 0080 68v8a2 2 0 104 0v-8a2 2 0 00-2.219-2.031zm-64 15A2 2 0 0016 83v9a2 2 0 002 2h8a2 2 0 100-4h-6v-7a2 2 0 00-2.219-2.031zm64 0A2 2 0 0080 83v7h-2a2 2 0 100 4h4a2 2 0 002-2v-9a2 2 0 00-2.219-2.031zM32.812 90A2.002 2.002 0 1033 94h8a2 2 0 100-4h-8a2 2 0 00-.188 0zm15 0A2.002 2.002 0 1048 94h8a2 2 0 100-4h-8a2 2 0 00-.188 0zm15 0A2.002 2.002 0 1063 94h8a2 2 0 100-4h-8a2 2 0 00-.188 0z" />
                                        </svg>
                                    </i>
                                    <div class="umb-node-preview__content">
                                        <div class="umb-node-preview__name">
                                            Missing Nodes
                                        </div>
                                        <div class="umb-node-preview__description">The total number of missing indexed nodes, according to the current Full Text Search config</div>
                                    </div>
                                    <div style="margin-right:auto;">
                                        {{ vm.indexStatus.status.MissingIndexedNodes}}
                                    </div>
                                </div>
                            </div>

                            <div class="umb-node-preview" style="max-width:none;">
                                <div class="flex w-100">
                                    <i class="umb-node-preview__icon" aria-hidden="true">
                                        <svg xmlns="http://www.w3.org/2000/svg" style="width:1em;fill:currentColor;" title="Incorrect nodes" viewBox="-10 -10 532 532">
                                            <path d="M452.81 109.29v-.34a10.42 10.42 0 00-.16-1.25 9.12 9.12 0 00-.34-1.24l-.12-.32a10.93 10.93 0 00-.48-1.11.2.2 0 010-.08 10.49 10.49 0 00-.69-1.09l-.2-.27a11.63 11.63 0 00-.86-1l-99.43-99.4a11.5 11.5 0 00-1-.86l-.28-.2a9.45 9.45 0 00-1.09-.68l-.09-.05A9.88 9.88 0 00347 .91l-.32-.12c-.41-.13-.82-.25-1.23-.34a10.52 10.52 0 00-1.24-.16H69.18a10 10 0 00-10 10V502a10 10 0 0010 10h373.64a10 10 0 0010-10V109.63c0-.12-.01-.23-.01-.34zM353.46 34.4l65.22 65.22h-65.22zm-20-14.14v89.36a10 10 0 0010 10h89.36V492H79.18V20.26z" />
                                            <circle cx="180.93" cy="285.21" r="19.29" />
                                            <circle cx="331.07" cy="285.21" r="19.29" />
                                            <path d="M299 339.65c-.35-1.12-9.13-27.28-43-27.28s-42.67 26.16-43 27.28a9.87 9.87 0 00-.53 3.18 10 10 0 0019.53 2.95c.68-1.82 5.77-13.41 24-13.41s23.3 11.59 24 13.41a10 10 0 0019.56-2.95 9.87 9.87 0 00-.53-3.18z" />
                                        </svg>
                                    </i>
                                    <div class="umb-node-preview__content">
                                        <div class="umb-node-preview__name">
                                            Incorrect Indexed Nodes
                                        </div>
                                        <div class="umb-node-preview__description">The total number of indexed nodes that should not be indexed according to the current Full Text Search config</div>
                                    </div>
                                    <div style="margin-right:auto;">
                                        {{ vm.indexStatus.status.IncorrectIndexedNodes}}
                                    </div>
                                </div>
                            </div>

                        </umb-box-content>
                    </umb-box>

                </div>

                <div class="umb-package-details__sidebar">

                    <umb-box>
                        <umb-box-header title="Tools"></umb-box-header>
                        <umb-box-content>
                            <umb-button action="vm.rebuildCache.rebuild()"
                                        type="button"
                                        button-style="action"
                                        label="Rebuild Full Text Cache"
                                        state="vm.rebuildCache.buttonState"></umb-button>
                        </umb-box-content>
                    </umb-box>

                    <umb-box>
                        <umb-box-header title="Developer"></umb-box-header>
                        <umb-box-content>
                            <div class="umb-package-details__owner-profile">
                                <div class="umb-package-details__owner-profile-avatar">
                                    <umb-avatar size="m" img-src="https://our.umbraco.com/media/upload/65cfa307-6f67-47de-a489-fc1bef5d48ad/img_3335.png?width=100&height=100&mode=crop&upscale=true"></umb-avatar>
                                </div>
                                <div>
                                    <div class="umb-package-details__owner-profile-name">Søren Kottal</div>
                                    <div class="umb-package-details__owner-profile-karma">
                                        <a href="https://github.com/skttl" target="_blank">github.com/skttl</a><br />
                                    </div>
                                </div>
                            </div>
                            <hr />
                            <div class="text-center">
                                <a href="https://www.ecreo.dk/" target="_blank">
                                    <svg width="200" height="40" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 82 19">
                                        <path d="M0 9.95C0 4.439 3.236.074 8.705.074c4.761 0 6.993 3.181 6.993 7.583 0 .961-.111 2.145-.297 3.033H4.985c.297 2.885 1.823 4.143 4.24 4.143 1.489 0 3.386-.26 4.948-.814l1.042 3.144c-2.195.998-4.576 1.516-6.882 1.516C3.348 18.68 0 15.535 0 9.95zm8.407-6.214c-2.046 0-3.087 1.48-3.385 4.032h6.026c.038-.333.038-.74.038-1.036 0-1.85-.856-2.996-2.679-2.996zM17.5 9.95c0 5.548 3.162 8.73 8.37 8.73 2.083 0 4.13-.482 5.915-1.332l-1.005-3.403c-1.488.518-2.938.777-4.092.777-2.752 0-4.166-1.665-4.166-5.29 0-2.071.484-3.736 1.488-4.586.558-.481 1.265-.703 2.232-.703 1.19 0 2.492.37 3.906 1.22l1.86-3.033C30.558.925 28.66.111 26.279.111c-5.431 0-8.78 3.995-8.78 9.839zM33.92.74c.26 4.217.335 5.918.335 7.435v10.098h4.947V6.99c1.154-1.406 2.493-1.887 4.018-1.887.707 0 1.34.037 2.046.222L46.047.85c-.67-.444-1.6-.74-2.604-.74-2.009 0-3.46 1.258-4.613 3.292l-.966-3.18-3.943.518zm13.292 9.21c0-5.511 3.236-9.876 8.705-9.876 4.761 0 6.993 3.181 6.993 7.583 0 .961-.111 2.145-.297 3.033H52.198c.297 2.885 1.823 4.143 4.24 4.143 1.489 0 3.386-.26 4.948-.814l1.042 3.144c-2.195.998-4.576 1.516-6.882 1.516-4.985 0-8.333-3.144-8.333-8.729zm8.407-6.214c-2.046 0-3.087 1.48-3.385 4.032h6.026c.038-.333.038-.74.038-1.036 0-1.85-.856-2.996-2.679-2.996zm9.056 6.14C64.676 4.698 67.912 0 73.64 0c5.17 0 8.184 3.958 8.184 9.062 0 5.216-3.162 9.728-8.928 9.728-5.134 0-8.221-3.772-8.221-8.914zm12.127-.222c0-3.403-1.19-5.844-3.608-5.844-1.116 0-1.86.444-2.27.962-.706.887-1.19 2.44-1.19 4.512 0 3.403 1.228 5.696 3.608 5.696 1.116 0 1.86-.48 2.27-.961.78-.925 1.19-2.441 1.19-4.365z" fill="#EC2E00" />
                                    </svg>
                                </a><br />
                                <small><a href="https://www.ecreo.dk/kontakt/" target="_blank">Development sponsored by <strong>Ecreo</strong>.</a></small>
                            </div>
                        </umb-box-content>
                    </umb-box>

                </div>

            </div>

        </umb-editor-container>

    </umb-editor-view>

</div>
